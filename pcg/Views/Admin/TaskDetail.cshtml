@model pcg.Models.VariationModel

@{
    ViewData["Title"] = "Task Detail";
}
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
</head>
<h3 style="text-align:center">Task Details</h3>
@foreach (System.Data.DataRow dr in ViewBag.Sitename.Rows)
{
    <h6 style="text-align:center">@dr["Client"].ToString() @dr["Site"].ToString()</h6>
}
<table class="table table-hover table-responsive-sm table-sm">
    <thead>
        <tr>
            <th class="text-center text-uppercase">Task No.</th>
            <th class="text-center text-uppercase">Task</th> 
            <th class="text-center text-uppercase">Description</th>
            <th class="text-center text-uppercase">Added By</th>
            <th class="text-center text-uppercase">Date Start</th>
            <th class="text-center text-uppercase">Date Completed</th>
            <th class="text-center text-uppercase">Assignee</th>
            <th class="text-center text-uppercase">Status</th>
        </tr>
    </thead>
    <tbody id="myTable">
        @foreach (System.Data.DataRow dr in ViewBag.Tasklog.Rows)
        {
            <tr>
                <td class="text-center text-nowrap">@dr["TaskID_Tasks"].ToString()</td>
                <td class="text-center text-nowrap">@dr["Task"].ToString()</td>
                <td class="text-center text-nowrap">@dr["Description"].ToString()</td>
                <td class="text-center text-nowrap">@dr["AddedBy"].ToString()</td>
                <td class="text-center text-nowrap">@dr["DateStart"].ToString()</td>
                <td class="text-center text-nowrap">@dr["DateClr"].ToString()</td>
                <td class="text-center text-nowrap">@dr["Name"].ToString()</td>
                @if (dr["Status"].ToString() == "Approved")
                {
                    <td class="text-center text-nowrap" style="color: orange; font-weight: bold">In Progress</td>
                }
                else if (dr["Status"].ToString() == "Waiting" || dr["Status"].ToString() == "Pending")
                {
                    <td class="text-center text-nowrap" style="color: orangered; font-weight: bold">Pending</td>
                }
                else if (dr["Status"].ToString() == "Complete")
                {
                    <td class="text-center text-nowrap" style="color: green; font-weight: bold">Completed!</td>
                }
                else if (dr["Status"].ToString() == "Declined")
                {
                    <td class="text-center text-nowrap" style="color: darkred; font-weight: bold">Declined!</td>
                }
                else
                {
                    <td class="text-center text-nowrap" style="color: orangered; font-weight: bold">For approval</td>
                }
            </tr>
        }
    </tbody>
</table>